<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <h1>Word Guessing Game</h1>
    <h2>The theme is Big Cats</h2>
    <div id="placeholder"></div>
    <div id="guess-here" onkeyup="keyup(event)"></div>
    <div id="guesses-left"></div>
    <!-- I know we have to put this in its own file, but at the start, I'm going to put the JS in the HTML -->
    <script type="text/javascript">
        //my global variables
        // the array of the different words
        var bigCats = ["tiger", "lion", "leopard", "jaguar", "panther", "bobcat", "cheetah", "lynx", "cougar", "caracal", "serval"];
        // a random number generator
        var randomNum = Math.floor((Math.random() * bigCats.length));
        // picks a random word from the array 
        var currentWord = bigCats[randomNum];
        // this is where the word will go
        var placeHolder = "";
        var userText = document.getElementById("guess-here");
        var userGuess = [];
        var guessesLeft = 9;
        var remainingLetters = currentWord.length;

        // the wordPicker function displays the chosen word and one of the letters in the word in the console 
        function wordPicker() {
            console.log(currentWord);
            console.log(currentWord[3]);
        }
        //calling the wordPicker function
        wordPicker();

        //this function generates a number of _ based on the length of the chosen word.
        function answerArray() {
            for (var i = 0; i < currentWord.length; i++) {
                placeHolder = (placeHolder + " _ ");
                // placeHolder[i] = " _ ";
            }
            console.log(placeHolder);
        }
        answerArray();

        // this function displays the most recently pressed key on the page, and logs it to the console
        // it also adds the user's guess to an array 
        // can I put this event inside of a function? Yes it seems so

        // function keyup() {
        //     document.onkeyup = function (event) {
        //         console.log(event.key);
        //         userText.textContent = event.key;
        //         userGuess.push(event.key);
        //         console.log(userGuess);
        //     }
        // }
        // keyup();

        // this function checks if the userGuess is anywhere inside of the currentWord
        // what happens if I put a function inside a function?
        function hybrid() {
            function keyup() {
                document.onkeyup = function (event) {
                    console.log(event.key);
                    userText.textContent = event.key;
                    userGuess.push(event.key);
                    console.log(userGuess);
                }
            }
            keyup();
            function checkWord() {
                for (var i = 0; i < userGuess.length; i++) {

                    for (var j = 0; j < currentWord.length; j++) {

                        if (userGuess[i].indexOf(currentWord[j]) >= 0) {
                            console.log("Match!", userGuess[i], currentWord[j]);
                        }
                        else {
                            console.log("no match");
                        }
                    }
                }
            } checkWord();
        } hybrid();

        // taking a break from the previous idea, now I want a function that displays all the letters pressed.
        // got this from a website
        // https://stackoverflow.com/questions/35442752/how-to-print-all-keystrokes-on-screen-with-js
        //this function displays all the pressed letters and reduces the number of lives, but the letters are in all caps
        // it also has no relation to the previous function
        function letterBank() {
            document.onkeyup = function (evt) {
                var charCode = evt.keyCode || evt.which;
                var lettersGuessed = String.fromCharCode(charCode);
                document.getElementById("guess-here").innerHTML += lettersGuessed;
                document.getElementById("guesses-left").innerHTML = guessesLeft;
                guessesLeft--;
            }
        }
        letterBank();

        /// WHAT IS THIS?!!? https://nostarch.com/download/JS4K_ch7.pdf
        // this function is taken from the pdf, but it doesn't really work.
        function pdf() {
            for (var i = 0; i < currentWord.length; i++) {
                if (currentWord[i] === userGuess) {
                    placeHolder[i] = userGuess;
                    remainingLetters--;
                }
            }
        } pdf();


        //this was an earlier attempt
        // for (var i = 0; i < bigCats.length; i++) {
        //     var letterLow = "a";
        //     if (bigCats[i].indexOf(letterLow) >= 0) {
        //         console.log("Found it! ");
        //     }
        //     else {
        //         console.log("No dice...");
        //     }

        // }




    </script>

</body>

</html>